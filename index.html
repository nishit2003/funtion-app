<!doctype html>
<html>
  <head>
    <title>Student Count by Country</title>
  </head>
  <body>
    <h1>Student Count by Country</h1>
    <table border="1">
      <thead>
        <tr>
          <th>Country</th>
          <th>Student Count</th>
        </tr>
      </thead>
      <tbody id="studentTable"></tbody>
    </table>

    <script>
      async function fetchStudentData() {
        const response = await fetch("https://grovernt-funtionapp-cqdefkh7cke0g4dx.eastus-01.azurewebsites.net/api/getStudentCount");
        const data = await response.json();

        const tableBody = document.getElementById("studentTable");
        tableBody.innerHTML = data
          .map(
            (row) =>
              `<tr><td>${row.Country}</td><td>${row.StudentCount}</td></tr>`,
          )
          .join("");
      }
      fetchStudentData();
    </script>
  </body>
</html>
